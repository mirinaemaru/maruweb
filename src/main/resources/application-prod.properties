# Production Environment Configuration (AWS ECS Fargate)
# Usage: java -jar -Dspring.profiles.active=prod maruweb.jar

# Server Configuration
server.port=8090
server.servlet.context-path=/

# DevTools Configuration (Disabled for Production)
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# Thymeleaf Configuration
spring.thymeleaf.cache=true

# Logging (Minimal for Production)
logging.level.root=WARN
logging.level.com.maru=INFO
logging.level.org.hibernate.SQL=WARN

# Google OAuth2 Configuration (Production)
# This URL should be updated after ALB is set up with your domain
google.oauth2.redirect-uri=${GOOGLE_OAUTH_REDIRECT_URI:https://your-domain.com/calendar/oauth2/callback}

# JPA Configuration
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# File Upload Path (EFS Mount Point in ECS)
kanban.file.upload-dir=/app/uploads/kanban

# Trading API URL (Cloud Map DNS for internal communication)
trading.api.base-url=${TRADING_API_BASE_URL:http://trading-api.maruweb.local:8099}

# System Log Configuration (CloudWatch logs in ECS)
system.log.directory=/app/logs
system.log.current-file=maruweb.log

# Actuator Configuration for Health Checks
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.defaults.enabled=true
management.health.db.enabled=true

# Connection Pool Settings for Production
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.max-lifetime=1200000
